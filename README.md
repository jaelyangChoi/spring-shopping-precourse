# spring-shopping-precourse

---

# 주요 기능
1. 상품
    + 조회, 추가, 수정, 삭제 기능
      - 상품에는 이름과 가격, 이미지가 있다.
      - 상품 이미지의 경우, 파일을 업로드하지 않고 URL을 직접 입력한다.
   + 상품을 추가하거나 수정하는 경우 유효성 검사를 통해 잘못된 부분을 응답
      - 상품 이름은 공백을 포함하여 최대 15자까지 입력할 수 있다
      - : ( ), [ ], +, -, &, /, _ 외 특수 문자 사용 불가
      - 상품 이름에는 비속어를 포함할 수 없다. (PurgoMalum에서 욕설이 포함되어 있는지 확인)

   + 유효성 검사
     - 상품은 최대 15자를 넘는 이름을 가져서는 안된다.
       - [x] 동해물과백두산이마르고닳도록
       - [ ] 동해물과 백두산이 마르고 닳도록
        ```gherkin
        Given 상품 이름이 "동해물과 백두산이 마르고 닳도록"일 때
         When 상품을 생성하면
           Or 상품을 수정하면
         Then 400 Bad Request를 응답한다
          And "상품의 이름은 15자를 넘길 수 없습니다."라고 응답한다. 
        ```
     - 상품은 일부 특수 문자는 허용하지 않는다. ( ( ), [ ], +, -, &, /, _ 외)
         - [x] (할인) 아메리카노
         - [ ] 아메리카노 *할인
        ```gherkin
         Given 상품 이름이 "아메리카노 *할인"일 때
          When 상품을 생성하면
            Or 상품을 수정하면
          Then 400 Bad Request를 응답한다
           And "상품의 이름에 ( ), [ ], +, -, &, /, _ 외 특수 문자를 입력할 수 없습니다."라고 응답한다 
         ```
         ```gherkin
         Given 상품 이름이 "(할인) 아메리카노"일 때
          When 상품을 생성하면
            Or 상품을 수정하면
          Then 200 OK를 응답한다
         ```
     - 상품은 비속어를 포함하지 않는다.
       - PurgoMalum에서 욕설이 포함되어 있는지 확인한다.
       ```gherkin
       Given 상품을 생성하거나 이름을 수정할 때
        When PurgoMalum에서 욕설이 포함되어 있는지 확인한다.
         And 욕설이 포함되어 있으면
        Then 400 Bad Request를 응답한다
         And "상품의 이름에 욕설을 입력할 수 없습니다."라고 응답한다.
       ```
---
2. 회원
   + 회원 가입, 로그인, 로그인 후 회원별 기능을 이용
      - 회원은 이메일과 비밀번호를 입력하여 가입한다.
      - 토큰을 받으려면 이메일과 비밀번호를 보내야 하며, 가입한 이메일과 비밀번호가 일치하면 토큰이 발급된다.



---
3. 위시 리스트
   + 로그인 후 받은 토큰을 사용하여 사용자별 위시 리스트 기능
      - 위시 리스트에 등록된 상품 목록을 조회할 수 있다.
      - 위시 리스트에 상품을 추가할 수 있다.
      - 위시 리스트에 담긴 상품을 삭제할 수 있다.


---    
# API 정의
### 상품 API
     - /api/products POST 상품 생성 새 상품을 등록한다.
     - /api/products/{productId} GET 상품 조회 특정 상품의 정보를 조회한다.
     - /api/products/{productId} PUT 상품 수정 기존 상품의 정보를 수정한다.
     - /api/products/{productId} DELETE 상품 삭제 특정 상품을 삭제한다.
     - /api/products GET 상품 목록 조회 모든 상품의 목록을 조회한다.

### 회원 API
     - /api/members/register POST 회원 가입 새 회원을 등록하고 토큰을 받는다.
     - /api/members/login POST 로그인 회원을 인증하고 토큰을 받는다.    

### 위시 리스트 API
      - /api/wishes POST 위시 리스트 상품 추가 회원의 위시 리스트에 상품을 추가한다.
      - /api/wishes/{wishId} DELETE 위시 리스트 상품 삭제 회원의 위시 리스트에서 상품을 삭제한다.
      - /api/wishes GET 위시 리스트 상품 조회 회원의 위시 리스트에 있는 상품을 조회한다.


---
# 용어 사전
| 한글명      | 영문명                     | 설명                                        |
|----------|-------------------------|-------------------------------------------|
| 관리자      | admin                   | 계정 및 권한을 관리하고 판매 상품을 등록 및 수정한다.           |
| 사용자      | users                   | 관리자가 아닌 쇼핑몰 이용자. 회원과 비회원으로 구분된다.          |
| 회원       | member                  | 로그인한 이용자. 물품 구매/위시리스트 기능을 사용 가능.          |
| 비회원      | guest                   | 로그인하지 않은 이용자. 상품 목록 조회는 가능.               |
| 상품       | product                 | 판매자가 등록하고 사용자가 구매할 수 있다.                  |
| 위시리스트    | wish list               | 장바구니 혹은 찜하기와 같이 회원별로 원하는 상품을 구매전에 담아둔다.   |
| 위시리스트 품목 | wish list product       | 위시리스트에 포함된 상품                             |
| 토큰       | token                   | 회원가입/로그인 시 발행되는 회원 인증에 사용되는 쿠키            |
| 허용 특수 문자 | allowed special char    | 상품명에 사용가능한 특수 문자  ( ), [ ], +, -, &, /, _ |
| 제한 특수 문자 | restricted special char | 상품명에 사용불가능한, 허용 특수 문자 외의 특수 문자.           |
| 검출 비속어   | filtered profanity      | PurgoMalum에서 검출되는 비속어                     |
| 비검출 비속어  | unfiltered profanity    | PurgoMalum에서 검출되지않는 비속어 (한국 욕설 등)         |
| 아이디      | id                      | 데이터적으로 고유하게 구분할 수 있는 식별자. 시스템에서 자동 생성.    |